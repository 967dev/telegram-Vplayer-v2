export const appContainer=document.getElementById("app"),imageBg=document.getElementById("image-bg"),canvas=document.getElementById("visualizerCanvas"),audioUpload=document.getElementById("audioUpload"),playlistContainer=document.getElementById("playlistContainer"),radioContainer=document.getElementById("radioContainer"),player=document.getElementById("player"),currentTrackArt=document.getElementById("currentTrackArt"),currentTrackTitle=document.getElementById("currentTrackTitle"),currentTrackArtist=document.getElementById("currentTrackArtist"),playPauseBtn=document.getElementById("playPauseBtn"),playIcon=document.getElementById("playIcon"),pauseIcon=document.getElementById("pauseIcon"),prevBtn=document.getElementById("prevBtn"),nextBtn=document.getElementById("nextBtn"),progressWrapper=document.getElementById("progressWrapper"),progressBar=document.getElementById("progressBar"),currentTime=document.getElementById("currentTime"),totalTime=document.getElementById("totalTime"),initialMessage=document.getElementById("initialMessage"),volumeSlider=document.getElementById("volumeSlider"),toggleEqBtn=document.getElementById("toggleEqBtn"),changeBgBtn=document.getElementById("changeBgBtn"),bgModal=document.getElementById("bgModal"),bgGrid=document.getElementById("bgGrid"),closeBgModal=document.getElementById("closeBgModal"),bgUpload=document.getElementById("bgUpload"),togglePlaylistBtn=document.getElementById("togglePlaylistBtn"),modePlaylistBtn=document.getElementById("modePlaylistBtn"),modeRadioBtn=document.getElementById("modeRadioBtn");export function displayBackgrounds(a,b,c,d){bgGrid.innerHTML="";const e=document.createElement("div");e.className="cursor-pointer aspect-square rounded-md overflow-hidden transition-transform hover:scale-105 bg-gray-800 flex flex-col items-center justify-center p-2 text-center",e.innerHTML=`\n        <i class="fas fa-atom text-4xl mb-2"></i>\n        <span class="text-xs font-semibold">Particles</span>\n    `,e.onclick=c,bgGrid.appendChild(e);const f=document.createElement("div");f.className="cursor-pointer aspect-square rounded-md overflow-hidden transition-transform hover:scale-105 bg-gray-800 flex flex-col items-center justify-center p-2 text-center",f.innerHTML=`\n        <i class="fas fa-water text-4xl mb-2"></i>\n        <span class="text-xs font-semibold">Lava Lamp</span>\n    `,f.onclick=d,bgGrid.appendChild(f),a.forEach(a=>{const c=document.createElement("div");c.className="cursor-pointer aspect-square rounded-md overflow-hidden transition-transform hover:scale-105",c.innerHTML=`<img src="${a}" class="w-full h-full object-cover" loading="lazy">`,c.onclick=()=>b(a),bgGrid.appendChild(c)})}export function formatTime(a){const b=Math.floor(a||0),c=Math.floor(b/60);return`${c}:${b%60<10?"0":""}${b%60}`}export function updateProgress(a){const{duration:b,currentTime:c}=a,d=c/b*100;progressBar.value=isNaN(d)?0:d,currentTime.textContent=formatTime(c),totalTime.textContent=isNaN(b)?"0:00":formatTime(b)}export function applyMarqueeIfNeeded(a){const b=a.parentElement;if(!b)return;b.classList.toggle("is-scrolling",a.scrollWidth>b.clientWidth)}export function applyMarqueeToAll(){currentTrackTitle&&applyMarqueeIfNeeded(currentTrackTitle),playlistContainer.querySelectorAll(".marquee-text").forEach(applyMarqueeIfNeeded)}export function displayPlaylist(a,b,c){playlistContainer.innerHTML="",initialMessage.classList.toggle("hidden",a.length>0),a.forEach((a,d)=>{const e=document.createElement("div");e.className="track-item flex items-center justify-between p-3 rounded-xl bg-black/20 backdrop-blur-lg border border-white/5 hover:bg-black/40 cursor-pointer transition-colors duration-200";const f=document.createElement("div");f.className="flex items-center flex-grow overflow-hidden mr-2 w-0 min-w-0",f.innerHTML=`\n            <div class="w-12 h-12 rounded-md mr-4 bg-white/10 flex items-center justify-center flex-shrink-0">\n                <i class="fas fa-music text-gray-300 text-xl"></i>\n            </div>\n            <div class="flex-grow overflow-hidden w-0 min-w-0">\n                <div class="marquee-wrapper">\n                    <p class="marquee-text font-semibold">${a.fileName}</p>\n                </div>\n                <p class="text-sm text-gray-400 truncate">${a.artistName}</p>\n            </div>`,f.addEventListener("click",()=>b(d));const g=document.createElement("button");g.className="delete-btn flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-gray-400 hover:bg-red-500/20 hover:text-red-400 transition-colors",g.innerHTML='<i class="fas fa-trash-alt"></i>',g.addEventListener("click",a=>{a.stopPropagation(),c(d)}),e.appendChild(f),e.appendChild(g),playlistContainer.appendChild(e),applyMarqueeIfNeeded(e.querySelector(".marquee-text"))})}export function displayRadioStations(a,b){radioContainer.innerHTML="",a.forEach((a,c)=>{const d=document.createElement("div");d.className="track-item flex items-center justify-between p-3 rounded-xl bg-black/20 backdrop-blur-lg border border-white/5 hover:bg-black/40 cursor-pointer transition-colors duration-200",d.innerHTML=`\n            <div class="flex items-center flex-grow overflow-hidden mr-2 w-0 min-w-0">\n                <div class="w-12 h-12 rounded-md mr-4 bg-white/10 flex items-center justify-center flex-shrink-0">\n                    <i class="fas fa-headphones text-gray-300 text-xl"></i>\n                </div>\n                <div class="flex-grow overflow-hidden w-0 min-w-0">\n                    <p class="font-semibold truncate">${a.name}</p>\n                    <p class="text-sm text-gray-400 truncate">${a.genre}</p>\n                </div>\n            </div>`,d.addEventListener("click",()=>b(c)),radioContainer.appendChild(d)})}export function updateActiveTrackUI(a,b,c,d){document.querySelectorAll(".track-item").forEach(a=>{a.classList.remove("accent-bg-lite","accent-bg-lite-paused")});if("playlist"===d&&-1!==a){const b=playlistContainer.children[a+(playlistContainer.children[0]===initialMessage?1:0)];b&&b.classList.add(c?"accent-bg-lite":"accent-bg-lite-paused")}else if("radio"===d&&-1!==b){const a=radioContainer.children[b];a&&a.classList.add(c?"accent-bg-lite":"accent-bg-lite-paused")}};
